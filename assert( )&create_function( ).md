# âœ… ë¬¸ìì—´ì„ ì½”ë“œë¡œ í•´ì„Â·ì‹¤í–‰í•  ìˆ˜ ìˆëŠ” í•¨ìˆ˜ (RCE)

`eval`, `assert`, `create_function` ê°™ì€ ëŸ°íƒ€ì„ ì½”ë“œ ìƒì„±/ì‹¤í–‰ í•¨ìˆ˜ë“¤ì€ **ë¬¸ìì—´ì„ ì½”ë“œë¡œ í•´ì„Â·ì‹¤í–‰í•  ìˆ˜ ìˆê¸° ë•Œë¬¸ì—** ë§¤ìš° ìœ„í—˜í•©ë‹ˆë‹¤. ì™¸ë¶€ ì…ë ¥ì´ ì¼ì ˆ ê²€ì¦ ì—†ì´ ì´ë“¤ í•¨ìˆ˜ë¡œ ë“¤ì–´ê°€ë©´ **ì›ê²© ì½”ë“œ ì‹¤í–‰(RCE)** ë“± ì‹¬ê°í•œ ë³´ì•ˆ ì‚¬ê³ ë¡œ ì´ì–´ì§ˆ ìˆ˜ ìˆìŠµë‹ˆë‹¤. âš ï¸

---

# ğŸ” í•¨ìˆ˜ë³„ í•µì‹¬ í¬ì¸íŠ¸

## `assert()`

* ì—­í• : í‘œí˜„ì‹ì„ ê²€ì‚¬í•˜ì—¬ `false`ë©´ ì—ëŸ¬/ì˜ˆì™¸ë¥¼ ë°œìƒì‹œí‚´.
* ìœ„í—˜ í¬ì¸íŠ¸: **ë¬¸ìì—´ ì¸ìë¥¼ ë°›ìœ¼ë©´ ê·¸ ë¬¸ìì—´ì„ PHP ì½”ë“œë¡œ í‰ê°€**í•  ìˆ˜ ìˆìŒ(ë²„ì „Â·ì„¤ì •ì— ë”°ë¼ ë‹¤ë¦„).
* ë³´ì•ˆ ìš”ì•½: ì™¸ë¶€ ì…ë ¥ì„ `assert()`ì— ì§ì ‘ ë„£ì§€ ë§ ê²ƒ. ğŸ›‘

## `create_function()`

* ì—­í• : ëŸ°íƒ€ì„ì— ë¬¸ìì—´ë¡œ í•¨ìˆ˜ ë°”ë””ë¥¼ ë°›ì•„ ìµëª…í•¨ìˆ˜ ìƒì„±(ë‚´ë¶€ì ìœ¼ë¡œ `eval` ìœ ì‚¬).
* ìœ„í—˜ í¬ì¸íŠ¸: ì¸ìì— ì™¸ë¶€ ì…ë ¥ì´ ì„ì´ë©´ ì¦‰ì‹œ ì„ì˜ ì½”ë“œ ì‹¤í–‰ ê°€ëŠ¥.
* ìƒíƒœ: PHP 7.2ì—ì„œ deprecated, PHP 8.0ì—ì„œ ì œê±°ë¨(ë ˆê±°ì‹œ ì½”ë“œ ì£¼ì˜). âš ï¸

---

# ğŸ”¥ ì™œ ìœ„í—˜í•œê°€? 

* **ì™¸ë¶€ ì…ë ¥ â†’ ë¬¸ìì—´ ì½”ë“œí™” â†’ ëŸ°íƒ€ì„ ì‹¤í–‰** íë¦„ì´ í•µì‹¬ ìœ„í—˜ ê²½ë¡œ.
* ë¬¸ìì—´ì´ ê²€ì¦ ì—†ì´ ì‹¤í–‰ë˜ë©´ ê³µê²©ìê°€ ì„œë²„ì—ì„œ ì„ì˜ ëª…ë ¹Â·íŒŒì¼ ì ‘ê·¼Â·ì •ë³´ìœ ì¶œ ë“±ì„ ìˆ˜í–‰í•  ìˆ˜ ìˆìŒ. ğŸ’¥

---

# ğŸ§­ ê³µê²© ì‹œë‚˜ë¦¬ì˜¤ (ê°œë…ì Â·ë°©ì–´ ëª©ì )

1. **ì§ì ‘ ì…ë ¥ â†’ ì½”ë“œ ì‹¤í–‰ (RCE)**

   * ì˜ˆ: `eval($_GET['expr']);` â€” `expr`ì— ì•…ì„± ì½”ë“œ ì‚½ì… â†’ ì¦‰ì‹œ ì‹¤í–‰
2. **íŒŒì¼ ì—…ë¡œë“œ + ì‹¤í–‰**

   * ì—…ë¡œë“œëœ í…ìŠ¤íŠ¸ë¥¼ `eval()`ë¡œ ì²˜ë¦¬í•˜ë©´ ì—…ë¡œë“œ íŒŒì¼ì˜ ì½”ë“œê°€ ì‹¤í–‰ë¨
3. **ë¡œê·¸ í¬ì´ì¦ˆë‹ â†’ í¬í•¨ â†’ ì‹¤í–‰**

   * Userâ€‘Agent ë“±ì— PHP ì½”ë“œë¥¼ ë‚¨ê²¨ë‘ê³ , LFIë¡œ ê·¸ ë¡œê·¸ë¥¼ `include()`í•˜ë©´ ì‹¤í–‰ ê°€ëŠ¥
4. **ë™ì  í•¨ìˆ˜ ìƒì„± (create_function)**

   * ì‚¬ìš©ì ì…ë ¥ìœ¼ë¡œ í•¨ìˆ˜ ë°”ë””ë¥¼ ë§Œë“¤ë©´ ë‚´ë¶€ì ìœ¼ë¡œ evalê³¼ ë™ì¼í•œ ë¬¸ì œ ë°œìƒ
5. **assert() ì˜¤ìš©**

   * í™˜ê²½ì— ë”°ë¼ ë¬¸ìì—´ì´ í‰ê°€ë˜ì–´ evalì²˜ëŸ¼ ë™ì‘í•  ìˆ˜ ìˆìŒ

> ìš”ì•½: ì™¸ë¶€ ë°ì´í„°ê°€ ì½”ë“œë¡œ í•´ì„ë˜ëŠ” ëª¨ë“  íë¦„ì´ ë¬¸ì œ. ğŸš¨

---

# ğŸ•µï¸ íƒì§€ Â· í—ŒíŒ… (ë°©ì–´ìš© ëª…ë ¹ì–´)

* ì •ì  ìŠ¤ìº”(ì½”ë“œë² ì´ìŠ¤):

```bash
grep -R --line-number -E "(\beval\s*\(|\bcreate_function\s*\(|\bassert\s*\()" .
```

* ìš”ì²­Â·ë¡œê·¸ ëª¨ë‹ˆí„°ë§: `<?php`, `php://input`, ê¸´ base64, ì½”ë“œ ì¡°ê° í¬í•¨ ì—¬ë¶€ íƒì§€

---

# ğŸ§¾ ìš´ì˜Â·ì„¤ì • 

* `zend.assertions`, `assert.exception` ë“± assertion ê´€ë ¨ ì„¤ì • ì ê²€ â†’ í”„ë¡œë•ì…˜ì—ì„œ assertions ì•ˆì „í•˜ê²Œ ê´€ë¦¬
* í•„ìš” ì‹œ ì‹œìŠ¤í…œ í•¨ìˆ˜(`exec`, `system`, `shell_exec`, `popen`, `proc_open`) `disable_functions` ê³ ë ¤(ì˜í–¥ ë¶„ì„ í•„ìš”)
* íŒŒì¼ ê¶Œí•œ ìµœì†Œí™”: ì›¹ í”„ë¡œì„¸ìŠ¤ê°€ ë¯¼ê° íŒŒì¼ì„ ì“°ê±°ë‚˜ ì‹¤í–‰í•˜ì§€ ëª»í•˜ë„ë¡ ì œí•œ

